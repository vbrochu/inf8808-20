{"version":3,"sources":["src/preprocess.js","node_modules/d3-collection/src/map.js","node_modules/d3-collection/src/nest.js","node_modules/d3-collection/src/set.js","node_modules/d3-collection/src/keys.js","node_modules/d3-collection/src/values.js","node_modules/d3-collection/src/entries.js","node_modules/d3-collection/src/index.js","node_modules/d3-selection/src/namespaces.js","node_modules/d3-selection/src/namespace.js","node_modules/d3-selection/src/creator.js","node_modules/d3-selection/src/selector.js","node_modules/d3-selection/src/selection/select.js","node_modules/d3-selection/src/selectorAll.js","node_modules/d3-selection/src/selection/selectAll.js","node_modules/d3-selection/src/matcher.js","node_modules/d3-selection/src/selection/filter.js","node_modules/d3-selection/src/selection/sparse.js","node_modules/d3-selection/src/selection/enter.js","node_modules/d3-selection/src/constant.js","node_modules/d3-selection/src/selection/data.js","node_modules/d3-selection/src/selection/exit.js","node_modules/d3-selection/src/selection/join.js","node_modules/d3-selection/src/selection/merge.js","node_modules/d3-selection/src/selection/order.js","node_modules/d3-selection/src/selection/sort.js","node_modules/d3-selection/src/selection/call.js","node_modules/d3-selection/src/selection/nodes.js","node_modules/d3-selection/src/selection/node.js","node_modules/d3-selection/src/selection/size.js","node_modules/d3-selection/src/selection/empty.js","node_modules/d3-selection/src/selection/each.js","node_modules/d3-selection/src/selection/attr.js","node_modules/d3-selection/src/window.js","node_modules/d3-selection/src/selection/style.js","node_modules/d3-selection/src/selection/property.js","node_modules/d3-selection/src/selection/classed.js","node_modules/d3-selection/src/selection/text.js","node_modules/d3-selection/src/selection/html.js","node_modules/d3-selection/src/selection/raise.js","node_modules/d3-selection/src/selection/lower.js","node_modules/d3-selection/src/selection/append.js","node_modules/d3-selection/src/selection/insert.js","node_modules/d3-selection/src/selection/remove.js","node_modules/d3-selection/src/selection/clone.js","node_modules/d3-selection/src/selection/datum.js","node_modules/d3-selection/src/selection/on.js","node_modules/d3-selection/src/selection/dispatch.js","node_modules/d3-selection/src/selection/index.js","node_modules/d3-selection/src/select.js","node_modules/d3-selection/src/create.js","node_modules/d3-selection/src/local.js","node_modules/d3-selection/src/sourceEvent.js","node_modules/d3-selection/src/point.js","node_modules/d3-selection/src/mouse.js","node_modules/d3-selection/src/selectAll.js","node_modules/d3-selection/src/touch.js","node_modules/d3-selection/src/touches.js","node_modules/d3-selection/src/index.js","node_modules/d3-tip/dist/index.js","src/viz1.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["FONCTIONS","buildDictNoms","data","dict_nomsId","forEach","e","NomId","nom","prenom","buildDictFonctions","dict_fonctionsId","FonctionId","terme","replaceAll","buildDictFilmoId","dict_filmoId","FilmoId","titreOriginal","parseInt","anneeSortie","buildDictCareer","dict_fonctionId","dict_noms_car","dict_filmo_participants","new_element_dc","filmoId","fonctionId","nomId","push","annee_sortie","new_participant","participants","sorted_filmo_part","Object","keys","map","key","sort","e1","e2","prefix","Map","prototype","constructor","has","get","set","value","remove","property","clear","slice","values","entries","size","empty","each","f","object","Array","isArray","i","n","length","o","sortKeys","sortValues","rollup","nest","apply","array","depth","createResult","setResult","keyValue","valuesByKey","result","sortKey","v","k","a","b","createObject","setObject","createMap","setMap","d","order","Set","proto","add","xhtml","svg","xlink","xml","xmlns","name","indexOf","namespaces","hasOwnProperty","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","none","selector","querySelector","select","groups","_groups","m","subgroups","j","group","subgroup","node","subnode","call","__data__","Selection","_parents","querySelectorAll","parents","matches","match","update","_enter","sparse","EnterNode","parent","datum","_next","_parent","appendChild","child","insertBefore","next","x","keyPrefix","bindIndex","enter","exit","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","bind","enterGroup","updateGroup","exitGroup","i0","i1","previous","_exit","onenter","onupdate","onexit","append","merge","selection","groups0","groups1","m0","m1","Math","min","merges","group0","group1","compareDocumentPosition","parentNode","compare","ascending","compareNode","sortgroups","sortgroup","NaN","callback","arguments","nodes","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","getAttributeNS","getAttribute","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","trim","split","classList","ClassList","_node","_names","join","splice","contains","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","create","constantNull","before","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","deep","filterEvents","event","element","mouseenter","mouseleave","filterContextListener","listener","index","contextListener","related","relatedTarget","event1","event0","parseTypenames","typenames","t","type","onRemove","typename","on","__on","removeEventListener","capture","onAdd","wrap","addEventListener","customEvent","that","args","sourceEvent","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","selection_select","selectAll","selection_selectAll","filter","selection_filter","selection_data","selection_enter","selection_exit","selection_join","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","attr","selection_attr","selection_style","selection_property","classed","selection_classed","text","selection_text","html","selection_html","selection_raise","selection_lower","selection_append","insert","selection_insert","selection_remove","selection_clone","selection_datum","selection_on","dispatch","selection_dispatch","nextId","Local","_","toString","id","current","source","ownerSVGElement","createSVGPoint","point","clientX","y","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","left","clientLeft","top","clientTop","changedTouches","touches","identifier","touch","points","global","factory","exports","module","require","define","amd","d3","tip","d3Collection","d3Selection","direction","d3TipDirection","offset","d3TipOffset","d3TipHTML","rootElement","body","initNode","target","vis","getSVGNode","show","SVGElement","pop","content","poffset","dir","nodel","getNodeEl","directions","coords","scrollTop","scrollLeft","directionCallbacks","hide","functor","destroy","directionNorth","s","directionSouth","directionEast","w","directionWest","nw","directionNorthWest","ne","directionNorthEast","sw","directionSouthWest","se","directionSouthEast","bbox","getScreenBBox","offsetHeight","offsetWidth","div","svgNode","tagName","toLowerCase","targetShape","targetel","matrix","tbbox","getBBox","width","height","appendAxes","g","updateXScale","scale","domain","range","drawXAxis","xScale","axisBottom","tickValues","tickFormat","format","getContentsWaffle","c","labelTitre","labelAnneeSortie","generateG","margin","setCanvasSizeWaffle","drawButtonsWaffle","roles","bounds_width","button_width","button_height","X","Y","maxY","res","set_pos","role","button","draw","essential_function","cote_motif","trunc_width","trunc","setColor","found","fonction","setX","floor","setY","margin_waffle","right","bottom","boundsWaffle","svgSizeWaffle","graphSizeWaffle","tipWaffle","data_noms","data_filmo","data_fonction","scaleLinear","Promise","all","csv","then","fichiers","preprocess","aux","buildWaffle","setSizingWaffle","graphWidth","self","innerWidth","graphHeight","setClickHandlerWaffle","catch","err","console","log","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","getElementById","stackTrace","innerText","getParents","modules","dep","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"viz1.85b6e48c.js","sourceRoot":"..","sourcesContent":["const FONCTIONS = {\r\n\t24: 'Acteur',\r\n\t25: 'Acteur',\r\n\t15: 'Acteur',\r\n\t\r\n\t28: 'Production',\r\n\t29: 'Production',\r\n\t48: 'Production',\r\n\t\r\n\t4: 'Technique',\r\n\t5: 'Technique',\r\n\t\r\n\t6: 'Esthetique',\r\n\t8: 'Esthetique',\r\n\t9: 'Esthetique',\r\n\t17: 'Esthetique',\r\n\t\r\n\t2: 'Image',\r\n\t12: 'Image',\r\n\t14: 'Image',\r\n\t19: 'Image',\r\n\t\r\n\t7: 'Son',\r\n\t18: 'Son',\r\n\t20: 'Son',\r\n\t27: 'Son',\r\n\t16: 'Son',\r\n\t21: 'Son',\r\n\t\r\n\t31: 'Scénario',\r\n\t32: 'Scénario',\r\n\t33: 'Scénario',\r\n\t\r\n\t34: 'Organisme',\r\n\t39: 'Organisme',\r\n\t40: 'Organisme',\r\n\t43: 'Organisme',\r\n\t49: 'Organisme',\r\n\t37: 'Organisme',\r\n\t\r\n\t22: 'Narration',\r\n\t23: 'Narration',\r\n\t\r\n\t35: 'Documentaire/émission',\r\n\t36: 'Documentaire/émission',\r\n\t47: 'Documentaire/émission',\r\n\t\r\n\t38: 'Science',\r\n\t41: 'Science',\r\n\t\r\n\t30: 'Régie',\r\n\t\r\n\t3: 'Assistant réalisation',\r\n\t\r\n\t10: 'Direction artistique',\r\n\t\r\n\t11: 'Direction de production',\r\n\t\r\n\t26: 'Photographe de plateau',\r\n\t\r\n\t13: 'Générique additionnel',\r\n\t\r\n\t42: 'Maison de services',\r\n\t\r\n\t44: 'Conception',\r\n\t\r\n\t45: 'Création',\r\n\t\r\n\t1: 'Réalisation'\r\n}\r\n\r\n\r\n//construit dictionnaire qui associe id du nom aux nom et prénom\r\nexport function buildDictNoms(data) {\r\n\tvar dict_nomsId = {};\r\n\tdata.forEach(e => {\r\n\t\tdict_nomsId[e.NomId]={'nom':e.nom, 'prenom':e.prenom};\r\n\t});\r\n\treturn dict_nomsId;\r\n}\r\n\r\n//construit dictionnaire qui associe id de la fonction au terme de la fonction\r\nexport function buildDictFonctions(data) {\r\n\tvar dict_fonctionsId = {};\r\n\tdata.forEach(e => {\r\n\t\tdict_fonctionsId[e.FonctionId]=e.terme.replaceAll(\"'\", \" \");\r\n\t});\r\n\treturn dict_fonctionsId;\r\n}\r\n\r\n//construit dictionnaire qui associe id du film à ses titres et année de sortie\r\nexport function buildDictFilmoId(data) {\r\n\tvar dict_filmoId = {};\r\n\tdata.forEach(e => {\r\n\t\tdict_filmoId[e.FilmoId]={'titreOriginal':e.titreOriginal, 'anneeSortie':parseInt(e.anneeSortie)};\r\n\t});\r\n\treturn dict_filmoId;\r\n}\r\n\r\n//construit dictionnaire qui associe id du nom à sa carrière\r\nexport function buildDictCareer (data, dict_filmoId, dict_fonctionId, dict_nomsId) {\r\n\tvar dict_noms_car = {};\r\n\tvar dict_filmo_participants={}\r\n\t\r\n\tdata.forEach(e => {\r\n\t\tlet new_element_dc={'film':dict_filmoId[e.filmoId], 'fonctionCategory':FONCTIONS[e.fonctionId], 'fonction': dict_fonctionId[e.fonctionId]}\r\n\t\tif (e.nomId in dict_noms_car) {\r\n\t\t\tdict_noms_car[e.nomId].push(new_element_dc);\r\n\t\t} else {\r\n\t\t\tdict_noms_car[e.nomId]=[new_element_dc];\r\n\t\t}\r\n\t\t\r\n\t\tlet annee_sortie = dict_filmoId[e.filmoId].anneeSortie\r\n\t\tif (annee_sortie > 1984) {\r\n\t\t\tlet new_participant={'nom':dict_nomsId[e.nomId], 'fonction': dict_fonctionId[e.fonctionId]}\r\n\t\t\tif (e.filmoId in dict_filmo_participants) {\r\n\t\t\t\tdict_filmo_participants[e.filmoId].participants.push(new_participant)\r\n\t\t\t} else {\r\n\t\t\t\tdict_filmo_participants[e.filmoId]={'anneeSortie':annee_sortie, 'participants':[new_participant]}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t\r\n\t//tri de dict_filmo_participants par année de sortie\r\n\tvar sorted_filmo_part = Object.keys(dict_filmo_participants).map(function(key) {\r\n\t\treturn [dict_filmoId[key], dict_filmo_participants[key]]\r\n\t})\r\n\t\r\n\tsorted_filmo_part.sort(function(e1, e2) {\r\n\t\treturn e1[1].anneeSortie-e2[1].anneeSortie\r\n\t})\r\n\t\r\n\t\r\n\treturn [dict_noms_car, sorted_filmo_part];\r\n}","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n}\n","export default function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n}\n","export default function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n}\n","export {default as nest} from \"./nest\";\nexport {default as set} from \"./set\";\nexport {default as map} from \"./map\";\nexport {default as keys} from \"./keys\";\nexport {default as values} from \"./values\";\nexport {default as entries} from \"./entries\";\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import creator from \"./creator\";\nimport select from \"./select\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","export {default as create} from \"./create\";\nexport {default as creator} from \"./creator\";\nexport {default as local} from \"./local\";\nexport {default as matcher} from \"./matcher\";\nexport {default as mouse} from \"./mouse\";\nexport {default as namespace} from \"./namespace\";\nexport {default as namespaces} from \"./namespaces\";\nexport {default as clientPoint} from \"./point\";\nexport {default as select} from \"./select\";\nexport {default as selectAll} from \"./selectAll\";\nexport {default as selection} from \"./selection/index\";\nexport {default as selector} from \"./selector\";\nexport {default as selectorAll} from \"./selectorAll\";\nexport {styleValue as style} from \"./selection/style\";\nexport {default as touch} from \"./touch\";\nexport {default as touches} from \"./touches\";\nexport {default as window} from \"./window\";\nexport {event, customEvent} from \"./selection/on\";\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('d3-collection'), require('d3-selection')) :\n  typeof define === 'function' && define.amd ? define(['d3-collection', 'd3-selection'], factory) :\n  (global.d3 = global.d3 || {}, global.d3.tip = factory(global.d3,global.d3));\n}(this, (function (d3Collection,d3Selection) { 'use strict';\n\n  /**\n   * d3.tip\n   * Copyright (c) 2013-2017 Justin Palmer\n   *\n   * Tooltips for d3.js SVG visualizations\n   */\n  // Public - constructs a new tooltip\n  //\n  // Returns a tip\n  function index() {\n    var direction   = d3TipDirection,\n        offset      = d3TipOffset,\n        html        = d3TipHTML,\n        rootElement = document.body,\n        node        = initNode(),\n        svg         = null,\n        point       = null,\n        target      = null;\n\n    function tip(vis) {\n      svg = getSVGNode(vis);\n      if (!svg) return\n      point = svg.createSVGPoint();\n      rootElement.appendChild(node);\n    }\n\n    // Public - show the tooltip on the screen\n    //\n    // Returns a tip\n    tip.show = function() {\n      var args = Array.prototype.slice.call(arguments);\n      if (args[args.length - 1] instanceof SVGElement) target = args.pop();\n\n      var content = html.apply(this, args),\n          poffset = offset.apply(this, args),\n          dir     = direction.apply(this, args),\n          nodel   = getNodeEl(),\n          i       = directions.length,\n          coords,\n          scrollTop  = document.documentElement.scrollTop ||\n        rootElement.scrollTop,\n          scrollLeft = document.documentElement.scrollLeft ||\n        rootElement.scrollLeft;\n\n      nodel.html(content)\n        .style('opacity', 1).style('pointer-events', 'all');\n\n      while (i--) nodel.classed(directions[i], false);\n      coords = directionCallbacks.get(dir).apply(this);\n      nodel.classed(dir, true)\n        .style('top', (coords.top + poffset[0]) + scrollTop + 'px')\n        .style('left', (coords.left + poffset[1]) + scrollLeft + 'px');\n\n      return tip\n    };\n\n    // Public - hide the tooltip\n    //\n    // Returns a tip\n    tip.hide = function() {\n      var nodel = getNodeEl();\n      nodel.style('opacity', 0).style('pointer-events', 'none');\n      return tip\n    };\n\n    // Public: Proxy attr calls to the d3 tip container.\n    // Sets or gets attribute value.\n    //\n    // n - name of the attribute\n    // v - value of the attribute\n    //\n    // Returns tip or attribute value\n    // eslint-disable-next-line no-unused-vars\n    tip.attr = function(n, v) {\n      if (arguments.length < 2 && typeof n === 'string') {\n        return getNodeEl().attr(n)\n      }\n\n      var args =  Array.prototype.slice.call(arguments);\n      d3Selection.selection.prototype.attr.apply(getNodeEl(), args);\n      return tip\n    };\n\n    // Public: Proxy style calls to the d3 tip container.\n    // Sets or gets a style value.\n    //\n    // n - name of the property\n    // v - value of the property\n    //\n    // Returns tip or style property value\n    // eslint-disable-next-line no-unused-vars\n    tip.style = function(n, v) {\n      if (arguments.length < 2 && typeof n === 'string') {\n        return getNodeEl().style(n)\n      }\n\n      var args = Array.prototype.slice.call(arguments);\n      d3Selection.selection.prototype.style.apply(getNodeEl(), args);\n      return tip\n    };\n\n    // Public: Set or get the direction of the tooltip\n    //\n    // v - One of n(north), s(south), e(east), or w(west), nw(northwest),\n    //     sw(southwest), ne(northeast) or se(southeast)\n    //\n    // Returns tip or direction\n    tip.direction = function(v) {\n      if (!arguments.length) return direction\n      direction = v == null ? v : functor(v);\n\n      return tip\n    };\n\n    // Public: Sets or gets the offset of the tip\n    //\n    // v - Array of [x, y] offset\n    //\n    // Returns offset or\n    tip.offset = function(v) {\n      if (!arguments.length) return offset\n      offset = v == null ? v : functor(v);\n\n      return tip\n    };\n\n    // Public: sets or gets the html value of the tooltip\n    //\n    // v - String value of the tip\n    //\n    // Returns html value or tip\n    tip.html = function(v) {\n      if (!arguments.length) return html\n      html = v == null ? v : functor(v);\n\n      return tip\n    };\n\n    // Public: sets or gets the root element anchor of the tooltip\n    //\n    // v - root element of the tooltip\n    //\n    // Returns root node of tip\n    tip.rootElement = function(v) {\n      if (!arguments.length) return rootElement\n      rootElement = v == null ? v : functor(v);\n\n      return tip\n    };\n\n    // Public: destroys the tooltip and removes it from the DOM\n    //\n    // Returns a tip\n    tip.destroy = function() {\n      if (node) {\n        getNodeEl().remove();\n        node = null;\n      }\n      return tip\n    };\n\n    function d3TipDirection() { return 'n' }\n    function d3TipOffset() { return [0, 0] }\n    function d3TipHTML() { return ' ' }\n\n    var directionCallbacks = d3Collection.map({\n          n:  directionNorth,\n          s:  directionSouth,\n          e:  directionEast,\n          w:  directionWest,\n          nw: directionNorthWest,\n          ne: directionNorthEast,\n          sw: directionSouthWest,\n          se: directionSouthEast\n        }),\n        directions = directionCallbacks.keys();\n\n    function directionNorth() {\n      var bbox = getScreenBBox(this);\n      return {\n        top:  bbox.n.y - node.offsetHeight,\n        left: bbox.n.x - node.offsetWidth / 2\n      }\n    }\n\n    function directionSouth() {\n      var bbox = getScreenBBox(this);\n      return {\n        top:  bbox.s.y,\n        left: bbox.s.x - node.offsetWidth / 2\n      }\n    }\n\n    function directionEast() {\n      var bbox = getScreenBBox(this);\n      return {\n        top:  bbox.e.y - node.offsetHeight / 2,\n        left: bbox.e.x\n      }\n    }\n\n    function directionWest() {\n      var bbox = getScreenBBox(this);\n      return {\n        top:  bbox.w.y - node.offsetHeight / 2,\n        left: bbox.w.x - node.offsetWidth\n      }\n    }\n\n    function directionNorthWest() {\n      var bbox = getScreenBBox(this);\n      return {\n        top:  bbox.nw.y - node.offsetHeight,\n        left: bbox.nw.x - node.offsetWidth\n      }\n    }\n\n    function directionNorthEast() {\n      var bbox = getScreenBBox(this);\n      return {\n        top:  bbox.ne.y - node.offsetHeight,\n        left: bbox.ne.x\n      }\n    }\n\n    function directionSouthWest() {\n      var bbox = getScreenBBox(this);\n      return {\n        top:  bbox.sw.y,\n        left: bbox.sw.x - node.offsetWidth\n      }\n    }\n\n    function directionSouthEast() {\n      var bbox = getScreenBBox(this);\n      return {\n        top:  bbox.se.y,\n        left: bbox.se.x\n      }\n    }\n\n    function initNode() {\n      var div = d3Selection.select(document.createElement('div'));\n      div\n        .style('position', 'absolute')\n        .style('top', 0)\n        .style('opacity', 0)\n        .style('pointer-events', 'none')\n        .style('box-sizing', 'border-box');\n\n      return div.node()\n    }\n\n    function getSVGNode(element) {\n      var svgNode = element.node();\n      if (!svgNode) return null\n      if (svgNode.tagName.toLowerCase() === 'svg') return svgNode\n      return svgNode.ownerSVGElement\n    }\n\n    function getNodeEl() {\n      if (node == null) {\n        node = initNode();\n        // re-add node to DOM\n        rootElement.appendChild(node);\n      }\n      return d3Selection.select(node)\n    }\n\n    // Private - gets the screen coordinates of a shape\n    //\n    // Given a shape on the screen, will return an SVGPoint for the directions\n    // n(north), s(south), e(east), w(west), ne(northeast), se(southeast),\n    // nw(northwest), sw(southwest).\n    //\n    //    +-+-+\n    //    |   |\n    //    +   +\n    //    |   |\n    //    +-+-+\n    //\n    // Returns an Object {n, s, e, w, nw, sw, ne, se}\n    function getScreenBBox(targetShape) {\n      var targetel   = target || targetShape;\n\n      while (targetel.getScreenCTM == null && targetel.parentNode != null) {\n        targetel = targetel.parentNode;\n      }\n\n      var bbox       = {},\n          matrix     = targetel.getScreenCTM(),\n          tbbox      = targetel.getBBox(),\n          width      = tbbox.width,\n          height     = tbbox.height,\n          x          = tbbox.x,\n          y          = tbbox.y;\n\n      point.x = x;\n      point.y = y;\n      bbox.nw = point.matrixTransform(matrix);\n      point.x += width;\n      bbox.ne = point.matrixTransform(matrix);\n      point.y += height;\n      bbox.se = point.matrixTransform(matrix);\n      point.x -= width;\n      bbox.sw = point.matrixTransform(matrix);\n      point.y -= height / 2;\n      bbox.w = point.matrixTransform(matrix);\n      point.x += width;\n      bbox.e = point.matrixTransform(matrix);\n      point.x -= width / 2;\n      point.y -= height / 2;\n      bbox.n = point.matrixTransform(matrix);\n      point.y += height;\n      bbox.s = point.matrixTransform(matrix);\n\n      return bbox\n    }\n\n    // Private - replace D3JS 3.X d3.functor() function\n    function functor(v) {\n      return typeof v === 'function' ? v : function() {\n        return v\n      }\n    }\n\n    return tip\n  }\n\n  return index;\n\n})));\n","'use strict'\r\n\r\nimport * as preprocess from './preprocess.js'\r\n\r\n\r\nimport d3Tip from 'd3-tip'\r\n\r\n/*\r\n * Appends an SVG g element which will contain the y axis.\r\n *\r\n * @param {*} g D3 Selection of g\r\n */\r\nexport function appendAxes (g) {\r\n  g.append('g')\r\n    .attr('class', 'x axis')\r\n}\r\n\r\n\r\n/*\r\n * defines the x scale.\r\n *\r\n * @param {*} scale The x scale\r\n * @param {number} width Width of the graph\r\n */\r\nexport function updateXScale (scale, width) {\r\n    //ECHELLE FIXE\r\n    scale.domain([1985, 2019]).range([0,570]);\r\n}\r\n\r\n\r\n/**\r\n * Draws the X axis at the bottom of the diagram.\r\n *\r\n * @param {*} xScale The scale to use to draw the axis\r\n * @param {number} height The height of the graphic\r\n */\r\nexport function drawXAxis (xScale, height) {\r\n  d3.select('#viz1 .x.axis')\r\n    .attr('transform', 'translate( 0, ' + height + ')')\r\n    .call(d3.axisBottom(xScale).tickValues([\"1985\",\"2019\"]).tickFormat(d3.format(\"d\")))\r\n}\r\n\r\n/**\r\n * Defines the contents of the tooltip for the waffle.\r\n *\r\n * @param {object} c The data associated to the hovered element\r\n * @returns {string} The tooltip contents\r\n */\r\nexport function getContentsWaffle (c) {\r\n\tconst labelTitre = \"<div class=\\\"tooltip-title\\\">Film : \"+c[0].titreOriginal+\"</div>\";\r\n\tconst labelAnneeSortie = \"<div class=\\\"tooltip-title\\\">Année de sortie : \"+c[0].anneeSortie+\"</div>\";\r\n\r\n\treturn labelTitre+labelAnneeSortie;\r\n}\r\n\r\n/**\r\n * Generates the SVG element g which will contain the data visualisation.\r\n *\r\n * @param {object} margin The desired margins around the graph\r\n * @returns {*} The d3 Selection for the created g element\r\n */\r\nexport function generateG (margin) {\r\n  return d3.select('#viz1')\r\n    .select('.waffle-svg')\r\n    .append('g')\r\n    .attr('id', 'waffle-g')\r\n    .attr('transform',\r\n      'translate(' + margin.left + ',' + margin.top + ')')\r\n}\r\n\r\n/**\r\n * Sets the size of the SVG canvas containing the graph.\r\n *\r\n * @param {number} width The desired width\r\n * @param {number} height The desired height\r\n */\r\nexport function setCanvasSizeWaffle (width, height) {\r\n  d3.select('#viz1').select('svg')\r\n    .attr('width', width)\r\n    .attr('height', height)\r\n}\r\n\r\n\r\n\r\n/**\r\n * Draws the buttons to select the roles.\r\n *\r\n * @param {*} g The d3 Selection of the graph's g SVG element\r\n * @param {object[]} roles The roles to display\r\n * @param {number} width The width of the graph, used to place the button\r\n * @param {number} bounds_width The width of the screen\r\n */\r\nexport function drawButtonsWaffle (g, roles, width, bounds_width) {\r\n\t\r\n\tconst button_width = 130\r\n\tconst button_height = 25\r\n\t\r\n\tvar X = 600\r\n\tvar Y = 0\r\n\t\r\n\tconst maxY=420\r\n\tvar res\r\n\t\r\n\tfunction set_pos() {\r\n\t\tif (Y < maxY) {\r\n\t\t\tres = X+','+Y\r\n\t\t\tY=Y+button_height\r\n\t\t} else {\r\n\t\t\tY=0\r\n\t\t\tX=X+button_width\r\n\t\t\tres = X+','+Y\r\n\t\t}\r\n\t\treturn res\r\n\t}\r\n\r\n\troles.forEach( role => {\r\n\t\tconst button = g.append('g')\r\n\t\t\t.attr('class', 'button-waffle')\r\n\t\t\t.attr('id', 'button-waffle-'+role.toLowerCase().replaceAll(\" \", \"-\").replaceAll(\"é\",\"e\"))\r\n\t\t\t.attr('transform', 'translate('+set_pos()+')')\r\n\t\t\t.attr('width', 130)\r\n\t\t\t.attr('height', 25)\r\n\r\n\t\tbutton.append('rect')\r\n\t\t\t.attr('width', 130)\r\n\t\t\t.attr('height', 30)\r\n\t\t\t.attr('fill', '#f4f6f4')\r\n\t\t\t.on('mouseenter', function () {\r\n\t\t\t  d3.select(this).attr('stroke', '#362023')\r\n\t\t\t})\r\n\t\t\t.on('mouseleave', function () {\r\n\t\t\t  d3.select(this).attr('stroke', '#f4f6f4')\r\n\t\t\t})\r\n\r\n\t\tbutton.append('text')\r\n\t\t\t.attr('x', 65)\r\n\t\t\t.attr('y', 15)\r\n\t\t\t.attr('text-anchor', 'middle')\r\n\t\t\t.attr('dominant-baseline', 'middle')\r\n\t\t\t.attr('class', 'button-text')\r\n\t\t\t.text(role)\r\n\t\t\t.attr('font-size', '10px')\r\n\t\t\t.attr('fill', '#362023')\r\n\t})\r\n}\r\n\r\n\r\n/**\r\n * Dessine la waffle\r\n * @param {object[]} sorted_filmo_part Films et leurs participants triés par années de sortie\r\n * @param {number} height The height of the graph\r\n * @param {number} width The width of the graph\r\n * @param {string} essential_function Fonction we have to see if it is essential or not\r\n */\r\nexport function draw (sorted_filmo_part, height, width, essential_function, tip) {\r\n\t\r\n\tconst cote_motif=5\r\n\r\n\tconst trunc_width = Math.trunc(width)\r\n\r\n\tfunction setColor(e) {\r\n\t\tvar i = 0\r\n\t\tvar found=false\r\n\t\twhile ((i < e[1].participants.length) && (!found)) {\r\n\t\t\tif (e[1].participants[i].fonction == essential_function) {\r\n\t\t\t\tfound=true\r\n\t\t\t}\r\n\t\t\ti++\r\n\t\t}\r\n\t\tif (found) {\r\n\t\t\treturn '#38b0de'\r\n\t\t} else {\r\n\t\t\treturn '#d3d3d3'\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction setX(e, i) {\r\n\t\treturn Math.floor((i*cote_motif)/height)*cote_motif\r\n\t}\r\n\t\r\n\tfunction setY(e, i) {\r\n\t\treturn (i*cote_motif)%height\r\n\t}\r\n\r\n\td3.select('#waffle-g')\r\n\t\t.selectAll('rect')\r\n\t\t.data(sorted_filmo_part)\r\n\t\t.enter()\r\n\t\t.append('g')\r\n\t\t.attr('class', 'waffle-rect')\r\n\t\t.append('rect')\r\n\t\t.attr('y', setY)\r\n\t\t.attr('x', setX)\r\n\t\t.attr('width', cote_motif)\r\n\t\t.attr('height', cote_motif)\r\n\t\t.attr('fill', setColor)\r\n\t\t.attr(\"stroke\", \"white\")\r\n\t\t.attr(\"stroke-width\", 1)\r\n\t\t.on(\"click\", tip.show);\r\n\r\n}\r\n\r\n\r\n\r\n\r\n(function (d3) {\r\n\tconst margin_waffle = { top: 80, right: 0, bottom: 80, left: 55 }\r\n\r\n\tlet boundsWaffle\r\n\tlet svgSizeWaffle\r\n\tlet graphSizeWaffle\r\n\t\r\n\tconst tipWaffle = d3Tip().attr('class', 'd3-tip').html(function (d) { return getContentsWaffle(d) })\r\n\td3.select('.waffle-svg').call(tipWaffle)\r\n\r\n\tlet data_noms\r\n\tlet data_filmo\r\n\tlet data_fonction\r\n\r\n\t//associe nomId aux noms et prénoms\r\n\tlet dict_nomsId\r\n\t\r\n\t//associe fonction id au terme de la fonction\r\n\tlet dict_fonctionId\r\n\t\r\n\t//associe un id de film ses titre et année de sortie\r\n\tlet dict_filmoId\r\n\r\n\t//associe un nom à sa carrière (roles et films)\r\n\tlet dict_noms_car\r\n\t\r\n\t//liste [film id, anneeSortie, participants] triée par années de sortie\r\n\tlet sorted_filmo_part\r\n\r\n\tconst xScale = d3.scaleLinear()\r\n\r\nPromise.all([\r\n    d3.csv('./Nom.csv'),\r\n    d3.csv('./Fonction.csv'),\r\n\td3.csv('./Filmo.csv'),\r\n\td3.csv('./Filmo_Generique.csv'),\r\n]).then(function(fichiers) {\r\n\t\r\n\t//preoprocess des fichiers\r\n\tdict_nomsId = preprocess.buildDictNoms(fichiers[0]);\r\n\tdict_fonctionId = preprocess.buildDictFonctions(fichiers[1]);\r\n\tdict_filmoId = preprocess.buildDictFilmoId(fichiers[2]);\r\n\t\r\n\tlet aux=preprocess.buildDictCareer(fichiers[3], dict_filmoId, dict_fonctionId, dict_nomsId);\r\n\tdict_noms_car=aux[0]\r\n\tsorted_filmo_part=aux[1]\r\n\t\r\n\tbuildWaffle()\r\n\t\r\n\tfunction setSizingWaffle () {\r\n\t\tboundsWaffle = d3.select('#viz1').node().getBoundingClientRect()\r\n\t\tlet graphWidth = Math.min(self.innerWidth, 1500);\r\n    \tlet graphHeight = 600;\r\n\r\n\t\tsvgSizeWaffle = {\r\n\t\t\twidth: graphWidth,\r\n\t\t\theight: graphHeight\r\n\t\t}\r\n\r\n\t\tgraphSizeWaffle = {\r\n\t\t\twidth: svgSizeWaffle.width - margin_waffle.right - margin_waffle.left,\r\n\t\t\theight: svgSizeWaffle.height - margin_waffle.bottom - margin_waffle.top\r\n\t\t}\r\n\r\n\t\tsetCanvasSizeWaffle(svgSizeWaffle.width, svgSizeWaffle.height)\r\n\t}\r\n\r\n\tfunction setClickHandlerWaffle (role) {\r\n\r\n\t\td3.select('#button-waffle-'+role.toLowerCase().replaceAll(\" \", \"-\").replaceAll(\"é\",\"e\"))\r\n\t\t\t.on('click', () => {\r\n\t\t\t\td3.selectAll('.waffle-rect').remove()\r\n\t\t\t\tdraw(sorted_filmo_part, graphSizeWaffle.height, graphSizeWaffle.width, role, tipWaffle)\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\t/**\r\n\t *   This function builds the graph.\r\n\t */\r\n\tfunction buildWaffle () {\r\n\t\tsetSizingWaffle()\r\n\t\t\r\n\t\tconst g = generateG(margin_waffle)\r\n\t\t\r\n\t\tconst roles = Object.values(dict_fonctionId)\r\n\t\t\r\n\t\tdrawButtonsWaffle(g, roles, graphSizeWaffle.width, boundsWaffle.width)\r\n\t\t\r\n\t\t\r\n\r\n\t\tdraw(sorted_filmo_part, graphSizeWaffle.height, graphSizeWaffle.width, 'Chroniqueur', tipWaffle)\r\n\t\t\r\n\t\troles.forEach(role => setClickHandlerWaffle(role))\r\n\r\n\t\tupdateXScale(xScale, graphSizeWaffle.width)\r\n        appendAxes(g)\r\n        drawXAxis(xScale, graphSizeWaffle.height)\r\n\t}\r\n\r\n\t\r\n}).catch(function(err) {\r\n    console.log('Les .csv n\\'ont pas pu être lus');\r\n})\r\n\r\n})(d3)","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}